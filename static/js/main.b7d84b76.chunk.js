(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){"use strict";a.d(t,"d",function(){return n}),a.d(t,"e",function(){return r}),a.d(t,"f",function(){return c}),a.d(t,"a",function(){return s}),a.d(t,"b",function(){return i}),a.d(t,"c",function(){return o});var n="RQzv9tVzCHXN9j3kF5qNzms555zzLC9HQF",r=0,c=2e4,s="https://kmd.explorer.dexstats.info/insight-api-komodo/",i="https://kmdexplorer.io/",o={messagePrefix:"\x18Komodo Signed Message:\n",bip32:{public:76067358,private:76066276},pubKeyHash:60,scriptHash:85,wif:188}},12:function(e,t,a){"use strict";var n=a(55),r=a(13);t.a=function(e,t,a){e.setState(function(e){return Object(r.a)({},e,{actions:Object(r.a)({},e.actions,Object(n.a)({},t,Object(r.a)({},e.actions[t],{state:a})))})})}},158:function(e,t,a){"use strict";(function(e){var n=a(22),r=a(23),c=a(25),s=a(24),i=a(26),o=a(0),l=a.n(o),u=a(159),d=a(160),m=a(161),p=a(175),f=a(174),h=a(171),b=a(173),v=a(62),g=(a(413),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state=a.initialState,a.resetState=function(){return a.setState(a.initialState)},a.handleRewardData=function(e){var t=e.accounts,n=e.tiptime;a.setState({accounts:t,tiptime:n})},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(m.a,null,l.a.createElement("div",{className:"buttons"},l.a.createElement(p.a,{handleRewardData:this.handleRewardData},l.a.createElement("strong",null,"Check Rewards")),l.a.createElement("button",{className:"button is-light",disabled:Object(d.isEqual)(this.state,this.initialState),onClick:this.resetState},"Reset"))),l.a.createElement("section",{className:"main"},0===this.state.accounts.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container content"},l.a.createElement("h2",null,"Claim your KMD rewards on your Ledger device."),l.a.createElement("h4",null,"As a gift to the community, we have decided to make this service free! There is no longer a fee to claim rewards. \u2764\ufe0f"),l.a.createElement("p",null,'Make sure the KMD app and firmware on your Ledger are up to date, then connect your Ledger, open the KMD app, and click the "Check Rewards" button.')),l.a.createElement("img",{className:"ledger-graphic",src:"ledger.svg",alt:"Ledger Nano S"})):l.a.createElement(f.a,this.state)),l.a.createElement(h.a,null),l.a.createElement(b.a,null,l.a.createElement("p",null,l.a.createElement("strong",null,"Ledger KMD Reward Claim")," by ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/atomiclabs"},"Atomic Labs"),". The ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(v.a)},"source code")," is licensed under ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(v.a,"/blob/master/LICENSE")},"MIT"),".",l.a.createElement("br",null),"View the ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(v.a,"#usage")},"README")," for usage instructions.")))}},{key:"initialState",get:function(){return{accounts:[],tiptime:null}}}]),t}(l.a.Component));t.a=Object(u.hot)(e)(g)}).call(this,a(187)(e))},161:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(162);a(189);t.a=function(e){var t=e.children;return r.a.createElement("nav",{className:"Header navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement(c.a,{className:"KmdIcon"})),r.a.createElement("h1",{className:"navbar-item"},r.a.createElement("strong",null,"Ledger KMD Reward Claim"))),r.a.createElement("div",{className:"navbar-menu"},r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},t)))))}},171:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(8),s=a(22),i=a(23),o=a(25),l=a(24),u=a(26),d=a(0),m=a.n(d),p=a(172),f=a(60),h=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={u2fSupported:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,Object(p.isSupported)();case 3:e.t1=e.sent,e.t2={u2fSupported:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return m.a.createElement(f.a,{title:"Warning: U2F Not Supported in This Browser",show:!1===this.state.u2fSupported},m.a.createElement("p",null,"The U2F API is required for the web browser to communicate with the Ledger device."),m.a.createElement("p",null,"Try using Chrome or Opera instead."),m.a.createElement("p",null,"You can view a list of U2F supporting browsers at ",m.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://caniuse.com/#feat=u2f"},"caniuse.com/#feat=u2f"),"."))}}]),t}(m.a.Component);t.a=h},173:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(411);t.a=function(e){var t=e.children;return r.a.createElement("footer",{className:"Footer"},r.a.createElement("div",{className:"content has-text-centered"},t))}},174:function(e,t,a){"use strict";var n=a(22),r=a(23),c=a(25),s=a(24),i=a(26),o=a(0),l=a.n(o),u=a(13),d=a(56),m=a.n(d),p=a(168),f=a(169),h=a.n(f),b=function(e){return h()(Object(p.toBitcoin)(e))},v=a(170),g=function(e){var t=e.locktime,a=e.height;return!(a>=7777777||t<5e8||!a)&&(t*=1e3)+(a>=1e6?26784e5:31536e6)},E=function(e){var t=g(e);return t?Object(v.distanceInWordsToNow)(t,{addSuffix:!0}):"N/A"},w=a(61),x=function(e){var t=e.utxos,a=e.tiptime,n=["Address","Value","Locktime","Rewards","Rewards Stop Accruing"];return l.a.createElement("table",{className:"table is-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,n.map(function(e){return l.a.createElement("th",{key:e},e)}))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,n.map(function(e){return l.a.createElement("th",{key:e},e)}))),l.a.createElement("tbody",null,t.map(function(e){return l.a.createElement("tr",{key:e.id,className:"utxo"},l.a.createElement("th",null,e.address),l.a.createElement("td",null,b(e.satoshis)," KMD"),l.a.createElement("td",null,l.a.createElement(w.a,{value:e.locktime})),l.a.createElement("td",null,b(m()(Object(u.a)({tiptime:a},e)))," KMD"),l.a.createElement("td",null,E(e)))})))},O=a(37),j=a(2),k=a.n(j),y=a(8),N=a(3),C=a(59),S=a(11),A=function(e){var t=e.txid;return l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(S.b,"tx/").concat(t)},t)},R=a(29),T=a(27),D=a(57),K=a(12),M=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state=a.initialState,a.resetState=function(){return a.setState(a.initialState)},a.getUnusedAddressIndex=function(){return a.props.account.addresses.filter(function(e){return!e.isChange}).length},a.getUnusedAddress=function(){return Object(D.a)(a.props.account.externalNode.derive(a.getUnusedAddressIndex()).publicKey)},a.getOutputs=function(){var e=a.props.account,t=e.balance,n=e.claimableAmount,r=e.serviceFee,c=[{address:a.getUnusedAddress(),value:t+n}];return r>0&&c.push({address:S.d,value:r}),c},a.claimRewards=Object(y.a)(k.a.mark(function e(){var t,n,r,c,s,i,o,d,m,p,f;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.account,n=t.accountIndex,r=t.utxos,a.setState(function(e){return Object(u.a)({},a.initialState,{isClaimingRewards:!0})}),e.prev=2,c="connect",Object(K.a)(Object(N.a)(Object(N.a)(a)),c,"loading"),e.next=7,R.a.isAvailable();case 7:if(e.sent){e.next=10;break}throw new Error("Ledger device is unavailable!");case 10:return Object(K.a)(Object(N.a)(Object(N.a)(a)),c,!0),c="confirmAddress",Object(K.a)(Object(N.a)(Object(N.a)(a)),c,"loading"),s=a.getUnusedAddress(),i="44'/141'/".concat(n,"'/0/").concat(a.getUnusedAddressIndex()),!0,e.next=18,R.a.getAddress(i,!0);case 18:if((o=e.sent)===s){e.next=21;break}throw new Error('Ledger derived address "'.concat(o,'" doesn\'t match browser derived address "').concat(s,'"'));case 21:return Object(K.a)(Object(N.a)(Object(N.a)(a)),c,!0),c="approveTransaction",Object(K.a)(Object(N.a)(Object(N.a)(a)),c,"loading"),d=a.getOutputs(),e.next=27,R.a.createTransaction(r,d);case 27:return m=e.sent,Object(K.a)(Object(N.a)(Object(N.a)(a)),c,!0),c="broadcastTransaction",Object(K.a)(Object(N.a)(Object(N.a)(a)),c,"loading"),e.next=33,T.a.broadcast(m);case 33:p=e.sent,f=p.txid,Object(K.a)(Object(N.a)(Object(N.a)(a)),c,!0),a.props.handleRewardClaim(f),a.setState({success:l.a.createElement(l.a.Fragment,null,"Claim TXID: ",l.a.createElement(A,{txid:f}))}),e.next=44;break;case 40:e.prev=40,e.t0=e.catch(2),Object(K.a)(Object(N.a)(Object(N.a)(a)),c,!1),a.setState({error:e.t0.message});case 44:case"end":return e.stop()}},e,this,[[2,40]])})),a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.isClaimingRewards,t=this.props.account.claimableAmount>0,a=this.getOutputs(),n=Object(O.a)(a,2),r=n[0],c=n[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"button is-primary",disabled:this.props.isClaimed||!t,onClick:this.claimRewards},this.props.children),l.a.createElement(C.a,Object.assign({},this.state,{title:"Claiming Rewards",handleClose:this.resetState,show:e}),l.a.createElement("p",null,"You should receive a total of ",l.a.createElement("strong",null,b(r.value)," KMD")," to the new unused address: ",l.a.createElement("strong",null,r.address),l.a.createElement("br",null),c?l.a.createElement(l.a.Fragment,null,"There will also be a ",S.e,"% service fee of ",l.a.createElement("strong",null,b(c.value)," KMD")," to: ",l.a.createElement("strong",null,c.address)):null)))}},{key:"initialState",get:function(){return{isClaimingRewards:!1,error:!1,success:!1,actions:{connect:{icon:"fab fa-usb",description:l.a.createElement("div",null,"Connect and unlock your Ledger, then open the Komodo app on your device."),state:null},confirmAddress:{icon:"fas fa-search-dollar",description:l.a.createElement("div",null,"Confirm the address on your device matches the new unused address shown above."),state:null},approveTransaction:{icon:"fas fa-key",description:l.a.createElement("div",null,"Approve the transaction on your device after carefully checking the values and addresses match those shown above."),state:null},broadcastTransaction:{icon:"fas fa-broadcast-tower",description:l.a.createElement("div",null,"Broadcasting the reward claim transaction to the network."),state:null}}}}}]),t}(l.a.Component),L=(a(406),a(408),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state=a.initialState,a.handleRewardClaim=function(e){a.setState({isClaimed:!0,claimTxid:e})},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.account,a=e.tiptime,n=t.accountIndex,r=t.utxos,c=t.balance,s=t.rewards,i=t.claimableAmount,o=t.serviceFee,u=i>0,d=this.state,m=d.isClaimed,p=d.claimTxid;return l.a.createElement("div",{className:"Account column is-full ".concat(m?"is-claimed":"")},l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"content"},l.a.createElement("h2",null,"Account ",n+1,l.a.createElement("div",{className:"balance"},b(c)," KMD"),l.a.createElement("small",null,"+ ",b(Math.max(0,i))," KMD Claimable Rewards")),r.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"UTXOs"),l.a.createElement(x,{utxos:r,tiptime:a})),u&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Breakdown"),l.a.createElement("table",{className:"breakdown"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,b(s)," KMD"),l.a.createElement("td",null,"Rewards accrued")),0!==S.e&&0!==o&&l.a.createElement("tr",null,l.a.createElement("td",null,b(o)," KMD"),l.a.createElement("td",null,S.e,"% service fee")),l.a.createElement("tr",null,l.a.createElement("td",null,b(S.f)," KMD"),l.a.createElement("td",null,"Network transaction fee")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,b(i)," KMD")),l.a.createElement("td",null,"Total claimable amount"))))),m&&p&&l.a.createElement("div",{className:"is-pulled-right"},"Claim TXID: ",l.a.createElement(A,{txid:p})),l.a.createElement(M,{account:t,handleRewardClaim:this.handleRewardClaim,isClaimed:this.state.isClaimed},"Claim Rewards"))))}},{key:"initialState",get:function(){return{isClaimed:!1,claimTxid:null}}}]),t}(l.a.Component));t.a=function(e){var t=e.accounts,a=e.tiptime;return l.a.createElement("div",{className:"Accounts"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns is-multiline"},t.map(function(e){return l.a.createElement(L,{key:e.accountIndex,account:e,tiptime:a})}))))}},175:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(37),s=a(8),i=a(13),o=a(22),l=a(23),u=a(25),d=a(24),m=a(26),p=a(3),f=a(0),h=a.n(f),b=a(56),v=a.n(b),g=a(29),E=a(87),w=a(27),x=a(57),O=a(58),j=a.n(O),k=function(){var e=Object(s.a)(r.a.mark(function e(t){var a,n,c,s,i,o,l,u,d,m,p,f,h,b;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=10,n=20,c=[],s=0,i=0;case 5:if(!(s<n)){e.next=38;break}for(o=[],l=0;l<a;l++)u=Object(x.a)(t.derive(i).publicKey),o.push(w.a.getAddress(u)),c.push({address:u,addressIndex:i}),i++;return d=!0,m=!1,p=void 0,e.prev=11,e.next=14,Promise.all(o);case 14:e.t0=Symbol.iterator,f=e.sent[e.t0]();case 16:if(d=(h=f.next()).done){e.next=22;break}(b=h.value).totalReceived>0||b.unconfirmedBalance>0?s=0:s++;case 19:d=!0,e.next=16;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(11),m=!0,p=e.t1;case 28:e.prev=28,e.prev=29,d||null==f.return||f.return();case 31:if(e.prev=31,!m){e.next=34;break}throw p;case 34:return e.finish(31);case 35:return e.finish(28);case 36:e.next=5;break;case 38:return e.abrupt("return",c.slice(0,c.length-s));case 39:case"end":return e.stop()}},e,this,[[11,24,28,36],[29,,31,35]])}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(r.a.mark(function e(t){var a,n,s,o,l,u,d,m,p,f,h;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="44'/141'/".concat(t,"'"),e.next=3,g.a.getXpub(a);case 3:return n=e.sent,s=j.a.bip32.fromBase58(n),o=s.derive(0),l=s.derive(1),e.next=9,Promise.all([k(o),k(l)]);case 9:return u=e.sent,d=Object(c.a)(u,2),m=d[0],p=d[1],f=function(e){var n=e.isChange;return function(e){return Object(i.a)({},e,{account:t,isChange:n,derivationPath:"".concat(a,"/").concat(n?1:0,"/").concat(e.addressIndex)})}},h=Object(E.a)(m.map(f({isChange:!1}))).concat(Object(E.a)(p.map(f({isChange:!0})))),e.abrupt("return",{externalNode:o,internalNode:l,addresses:h});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.getUtxos(t.map(function(e){return e.address}));case 2:return a=e.sent,e.next=5,Promise.all(a.map(function(){var e=Object(s.a)(r.a.mark(function e(a){var n,s,o,l,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.find(function(e){return e.address===a.address}),e.next=3,Promise.all([w.a.getRawTransaction(a.txid),w.a.getTransaction(a.txid)]);case 3:return s=e.sent,o=Object(c.a)(s,2),l=o[0].rawtx,u=o[1].locktime,e.abrupt("return",Object(i.a)({id:"".concat(a.txid,":").concat(a.vout)},n,a,{locktime:u,rawtx:l}));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(s.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=0;case 2:return e.next=5,y(a);case 5:if(0!==(n=e.sent).addresses.length){e.next=8;break}return e.abrupt("break",16);case 8:return e.next=10,N(n.addresses);case 10:n.utxos=e.sent,n.accountIndex=a,t.push(n),a++,e.next=2;break;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),S=a(12),A=a(11),R=a(59),T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),m=0;m<n;m++)l[m]=arguments[m];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state=a.initialState,a.resetState=function(){return a.setState(a.initialState)},a.calculateRewardData=function(e){var t=e.accounts,a=e.tiptime;return t.map(function(e){return e.balance=e.utxos.reduce(function(e,t){return e+t.satoshis},0),e.rewards=e.utxos.reduce(function(e,t){return e+v()(Object(i.a)({tiptime:a},t))},0),e.serviceFee=Math.floor(e.rewards/100*A.e),e.claimableAmount=e.rewards-e.serviceFee-A.f,e})},a.scanAddresses=Object(s.a)(r.a.mark(function e(){var t,n,s,o,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.handleRewardData({accounts:[],tiptime:[]}),a.setState(Object(i.a)({},a.initialState,{isCheckingRewards:!0})),e.prev=2,t="connect",Object(S.a)(Object(p.a)(Object(p.a)(a)),t,"loading"),e.next=7,g.a.isAvailable();case 7:if(e.sent){e.next=10;break}throw new Error("Ledger device is unavailable!");case 10:return Object(S.a)(Object(p.a)(Object(p.a)(a)),t,!0),t="approve",Object(S.a)(Object(p.a)(Object(p.a)(a)),t,"loading"),e.next=15,Promise.all([C(),w.a.getTipTime()]);case 15:if(n=e.sent,s=Object(c.a)(n,2),o=s[0],l=s[1],0!==(o=a.calculateRewardData({accounts:o,tiptime:l})).length){e.next=22;break}throw new Error("No account balances found.");case 22:Object(S.a)(Object(p.a)(Object(p.a)(a)),t,!0),a.props.handleRewardData({accounts:o,tiptime:l}),a.setState(Object(i.a)({},a.initialState)),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(2),Object(S.a)(Object(p.a)(Object(p.a)(a)),t,!1),a.setState({error:e.t0.message});case 31:case"end":return e.stop()}},e,this,[[2,27]])})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isCheckingRewards,a=e.actions,n=e.error;return h.a.createElement(h.a.Fragment,null,h.a.createElement("button",{className:"button is-primary",onClick:this.scanAddresses},this.props.children),h.a.createElement(R.a,{title:"Scanning Blockchain for Rewards",actions:a,error:n,handleClose:this.resetState,show:t},h.a.createElement("p",null,"Exporting public keys from your Ledger device, scanning the blockchain for funds, and calculating any claimable rewards. Please approve any public key export requests on your device.")))}},{key:"initialState",get:function(){return{isCheckingRewards:!1,error:!1,actions:{connect:{icon:"fab fa-usb",description:h.a.createElement("div",null,"Connect and unlock your Ledger, then open the Komodo app on your device."),state:null},approve:{icon:"fas fa-microchip",description:h.a.createElement("div",null,"Approve all public key export requests on your device. ",h.a.createElement("strong",null,"There will be multiple requests"),"."),state:null}}}}}]),t}(h.a.Component);t.a=T},177:function(e,t,a){e.exports=a(178)},178:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(157),s=a.n(c),i=(a(183),a(185),a(158));s.a.render(r.a.createElement(i.a,null),document.getElementById("root"))},185:function(e,t,a){},189:function(e,t,a){},200:function(e,t){},202:function(e,t){},237:function(e,t){},241:function(e,t){},27:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(8),s=a(11),i=function(){var e=Object(c.a)(r.a.mark(function e(t,a){var n,c,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},a&&(n.body=JSON.stringify(a),n.headers=new Headers,n.headers.append("Content-Type","application/json"),n.headers.append("Content-Length",n.body.length),n.method="POST"),e.next=4,fetch("".concat(s.a).concat(t),n);case 4:if(c=e.sent,!c.headers.get("Content-Type").includes("application/json")){e.next=12;break}return e.next=9,c.json();case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,c.text();case 14:e.t0=e.sent;case 15:if(i=e.t0,c.ok){e.next=18;break}throw new Error(i);case 18:return e.abrupt("return",i);case 19:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),o=function(){return i("status?q=getBestBlockHash")},l=function(e){return i("block/".concat(e))},u=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return t=e.sent,a=t.bestblockhash,e.next=6,l(a);case 6:return n=e.sent,e.abrupt("return",n.time);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),d={get:i,getAddress:function(e){return i("addr/".concat(e,"/?noTxList=1"))},getUtxos:function(e){return i("addrs/utxo",{addrs:e.join(",")})},getTransaction:function(e){return i("tx/".concat(e))},getRawTransaction:function(e){return i("rawtx/".concat(e))},getBestBlockHash:o,getBlock:l,getTipTime:u,broadcast:function(e){return i("tx/send",{rawtx:e})}};t.a=d},29:function(e,t,a){"use strict";(function(e){var n=a(2),r=a.n(n),c=a(8),s=a(163),i=a.n(s),o=a(164),l=a.n(o),u=a(165),d=a.n(u),m=a(166),p=a.n(m),f=a(167),h=a.n(f),b=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.create();case 2:return t=e.sent,(a=new l.a(t)).close=function(){return t.close()},e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return t=e.sent,e.prev=3,e.next=6,t.getWalletPublicKey("m/44'/0'/0'/0/0");case 6:return e.next=8,t.close();case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this,[[3,11]])}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(r.a.mark(function e(t,a){var n,c,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return n=e.sent,e.next=5,n.getWalletPublicKey(t,a);case 5:return c=e.sent,s=c.bitcoinAddress,e.next=9,n.close();case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var t=Object(c.a)(r.a.mark(function t(a,n){var s,i,o,l,u,m,p,f,h;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:return s=t.sent,t.next=5,Promise.all(a.map(function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.rawtx,void 0,void 0,!0,n=["sapling"],e.next=7,s.splitTransaction(a,void 0,void 0,!0,n);case 7:return c=e.sent,e.abrupt("return",[c,t.vout]);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 5:return i=t.sent,o=a.map(function(e){return e.derivationPath}),void 0,l=d()(n),u=Math.floor(Date.now()/1e3),m=u-777,void 0,void 0,void 0,p=["sapling"],f=e.from([0,0,0,0]),t.next=18,s.createPaymentTransactionNew(i,o,void 0,l,m,void 0,void 0,void 0,p,f);case 18:return h=t.sent,t.next=21,s.close();case 21:return t.abrupt("return",h);case 22:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n,c,s,i,o,l,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return a=e.sent,e.next=5,a.getWalletPublicKey(t);case 5:return n=e.sent,c=n.publicKey,s=n.chainCode,i=p.a.fromString(t).toPathArray(),o=i.length,l=(2147483648|i.pop())>>>0,u=h()({depth:o,childNumber:l,publicKey:c,chainCode:s}),e.next=14,a.close();case 14:return e.abrupt("return",u);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),x={getDevice:b,isAvailable:v,getAddress:g,createTransaction:E,getXpub:w};t.a=x}).call(this,a(9).Buffer)},299:function(e,t,a){},301:function(e,t,a){},406:function(e,t,a){},408:function(e,t,a){},411:function(e,t,a){},413:function(e,t,a){},57:function(e,t,a){"use strict";var n=a(11),r=a(58),c=a.n(r);t.a=function(e){return c.a.payments.p2pkh({pubkey:e,network:n.c}).address}},59:function(e,t,a){"use strict";var n=a(176),r=a(0),c=a.n(r),s=a(60),i=a(61);a(301);t.a=function(e){var t=e.children,a=e.actions,r=void 0===a?[]:a,o=e.error,l=e.success,u=Object(n.a)(e,["children","actions","error","success"]);return c.a.createElement("div",{className:"ActionListModal"},c.a.createElement(s.a,Object.assign({isCloseable:o||l},u),t,c.a.createElement("div",{className:"panel"},Object.keys(r).map(function(e){var t=r[e],a=t.icon,n=t.description,s=t.state;return c.a.createElement("div",{key:e,className:"panel-block ".concat("loading"===s?"is-active":"")},c.a.createElement("span",{className:"left-icon icon has-text-grey"},c.a.createElement("i",{className:a})),n,c.a.createElement("div",{className:"right-icon"},"boolean"===typeof s?c.a.createElement(i.a,{value:s}):"loading"===s?c.a.createElement("span",{className:"icon has-text-grey"},c.a.createElement("i",{className:"fas fa-circle-notch fa-spin","aria-hidden":"true"})):null))})),o?c.a.createElement("div",{className:"notification is-danger"},c.a.createElement("strong",null,"Error"),c.a.createElement("p",null,o)):null,l?c.a.createElement("div",{className:"notification is-success"},c.a.createElement("strong",null,"Success"),c.a.createElement("p",null,l)):null))}},60:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(299);t.a=function(e){var t=e.children,a=e.title,n=e.show,c=e.isCloseable,s=e.handleClose;return r.a.createElement("div",{className:"Modal modal ".concat(n?"is-active":"")},r.a.createElement("div",{onClick:function(){return c&&s&&s()}},r.a.createElement("div",{className:"modal-background"}),r.a.createElement("button",{className:"modal-close is-large ".concat(c?"":"is-invisible")})),r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"card"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},a)),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},t)))))}},61:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.value;return r.a.createElement("span",{className:"icon has-text-".concat(t?"success":"danger")},r.a.createElement("i",{className:"fas fa-".concat(t?"check":"times","-circle")}))}},62:function(e){e.exports={a:"particle4dev/ledger-kmd-reward-claim"}}},[[177,2,1]]]);
//# sourceMappingURL=main.b7d84b76.chunk.js.map